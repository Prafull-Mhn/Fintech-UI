import{a as y,b as X,c as x,d as k,e as E,f as Y,g as h,h as $}from"./chunk-VORGQ2SV.js";import"./chunk-6LIFATZG.js";import{d as S,e as W,h as T}from"./chunk-6WONESTQ.js";import"./chunk-EMQUMKIL.js";import"./chunk-CARY4E7O.js";import{b as G,d as w,f as O,g as q,j as B,l as Z,m as z,n as J,o as H,p as K,q as Q}from"./chunk-BCSET4D3.js";import{$b as C,Cb as j,Eb as u,Gb as N,Ib as b,Lb as _,Qb as t,Rb as r,Sb as s,Yc as L,Zb as g,ic as a,ka as p,kb as l,kc as v,lb as c,mc as F,nc as A,oc as I,pa as f,pc as D,qc as V,rb as U,tb as R,va as P}from"./chunk-NXEWHPL2.js";import"./chunk-5VBBBU7A.js";L();var M=(()=>{class o{constructor(){y.initializeApp(Y.firebase)}getFirestore(){return k}getDatabase(){return E}getAuth(){return x}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275prov=p({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();L();L();var te=(()=>{class o{constructor(i,n,e){this.afu=i,this.router=n,this.ngZone=e,this.showLoader=!1,this.afu.authState.subscribe(m=>{this.authState=m})}get isUserAnonymousLoggedIn(){return this.authState!==null?this.authState.isAnonymous:!1}get currentUserId(){return this.authState!==null?this.authState.uid:""}get currentUserName(){return this.authState.email}get currentUser(){return this.authState!==null?this.authState:null}get isUserEmailLoggedIn(){return this.authState!==null&&!this.isUserAnonymousLoggedIn}registerWithEmail(i,n){return this.afu.createUserWithEmailAndPassword(i,n).then(e=>{this.authState=e}).catch(e=>{throw console.log(e),e})}loginWithEmail(i,n){return this.afu.signInWithEmailAndPassword(i,n).then(e=>{this.authState=e}).catch(e=>{throw console.log(e),e})}singout(){this.afu.signOut(),this.router.navigate(["/login"])}SignUp(i,n){return this.afAuth.createUserWithEmailAndPassword(i,n).then(e=>{this.SendVerificationMail(),this.SetUserData(e.user)}).catch(e=>{window.alert(e.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(i=>i.sendEmailVerification()).then(()=>{this.router.navigate(["/dashboard"])})}SetUserData(i){let n=this.afs.doc(`users/${i.uid}`),e={email:i.email,displayName:i.displayName,uid:i.uid,photoURL:i.photoURL||"src/favicon.ico",emailVerified:i.emailVerified};return n.delete().then(function(){}).catch(function(m){}),n.set(e,{merge:!0})}SignIn(i,n){return this.afAuth.signInWithEmailAndPassword(i,n).then(e=>{e.user.emailVerified!==!0?(this.SetUserData(e.user),this.SendVerificationMail(),this.showLoader=!0):(this.showLoader=!1,this.ngZone.run(()=>{this.router.navigate(["/auth/login"])}))}).catch(e=>{throw e})}ForgotPassword(i){return this.afAuth.sendPasswordResetEmail(i).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(n=>{window.alert(n)})}static{this.\u0275fac=function(n){return new(n||o)(f(X),f(S),f(R))}}static{this.\u0275prov=p({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function se(o,ie){if(o&1&&(t(0,"p",14),a(1),r()),o&2){let i=C();l(),v(" ",i.errorMessage,"")}}function le(o,ie){if(o&1&&(t(0,"p",14),a(1),r()),o&2){let i=C();l(),v(" ",i._error.message," ")}}var Ce=(()=>{class o{constructor(i,n,e,m,d,re){this.authservice=i,this.router=n,this.formBuilder=e,this.renderer=m,this.firebaseService=d,this.toastr=re,this.disabled="",this.firestoreModule=this.firebaseService.getFirestore(),this.databaseModule=this.firebaseService.getDatabase(),this.authModule=this.firebaseService.getAuth(),this.email="algoSky@admin.com",this.password="algoSkyadmin",this.errorMessage="",this._error={name:"",message:""},this.error="",this.showPassword=!1,this.toggleClass="off-line";let me=this.renderer.selectRootElement("body",!0)}ngOnInit(){this.loginForm=this.formBuilder.group({username:["algoSky@admin.com",[w.required,w.email]],password:["algoSkyadmin",w.required]})}clearErrorMessage(){this.errorMessage="",this._error={name:"",message:""}}login(){console.log(this.loginForm),this.clearErrorMessage(),this.validateForm(this.email,this.password)&&(this.authservice.loginWithEmail(this.email,this.password).then(()=>{this.router.navigate(["/home/dashboard"]),console.clear()}).catch(i=>{this._error=i,this.router.navigate(["/"])}),this.toastr.success("log in successful","AlgoSky",{timeOut:3e3,positionClass:"toast-top-right"}))}validateForm(i,n){return i.length===0?(this.errorMessage="please enter email id",!1):n.length===0?(this.errorMessage="please enter password",!1):n.length<6?(this.errorMessage="password should be at least 6 char",!1):(this.errorMessage="",!0)}get form(){return this.loginForm.controls}Submit(){console.log(this.loginForm),this.loginForm.controls.username.value==="algoSky@admin.com"&&this.loginForm.controls.password.value==="algoSkyadmin"?this.router.navigate(["/home/dashboard"]):this.error="Please check email and passowrd"}ngOnDestroy(){let i=this.renderer.selectRootElement("body",!0);this.renderer.removeAttribute(i,"class")}toggleVisibility(){this.showPassword=!this.showPassword,this.toggleClass==="off-line"?this.toggleClass="line":this.toggleClass="off-line"}static{this.\u0275fac=function(n){return new(n||o)(c(te),c(S),c(H),c(U),c(M),c(h))}}static{this.\u0275cmp=P({type:o,selectors:[["app-login"]],standalone:!0,features:[D([M,{provide:h,useClass:h}]),V],decls:103,vars:23,consts:[[1,"flex","justify-center","authentication","authentication-basic","items-center","h-full","text-defaultsize","text-defaulttextcolor"],[1,"grid","grid-cols-12"],[1,"xxl:col-span-4","xl:col-span-4","lg:col-span-4","md:col-span-3","sm:col-span-2"],[1,"xxl:col-span-4","xl:col-span-4","lg:col-span-4","md:col-span-6","sm:col-span-8","col-span-12"],[1,"box"],[1,"box-body","!p-[3rem]"],[1,"h5","font-semibold","mb-2","text-center"],[1,"mb-4","text-[#8c9097]","dark:text-white/50","opacity-[0.7]","font-normal","text-center"],[1,"sm:flex","bg-gray-100","hover:bg-gray-200","rounded-lg","transition","p-1","dark:bg-black/20","dark:hover:bg-black/20"],["href","javascript:void(0);","id","segment-item-1","data-hs-tab","#segment-1","aria-controls","segment-1",1,"w-full","sm:w-auto","hs-tab-active:bg-primary","hs-tab-active:text-gray-700","dark:hs-tab-active:bg-bgdark","dark:hs-tab-active:text-white","py-2","px-3","inline-flex","items-center","gap-2","bg-transparent","text-sm","text-gray-500","hover:text-gray-700","font-medium","rounded-md","hover:hover:text-primary","dark:text-white/70","dark:hover:text-white"],["src","./assets/images/brand-logos/desktop-logo.JPG","alt","logo",1,"desktop-logo"],["src","./assets/images/brand-logos/desktop-dark.JPG","alt","logo",1,"desktop-dark"],[1,"mt-3"],["id","segment-1","role","tabpanel","aria-labelledby","segment-item-1",1,"hidden",3,"ngSubmit","formGroup"],[1,"text-danger"],[1,"text-center"],[1,"block","text-2xl","font-bold","text-gray-800","dark:text-white"],[1,"grid","grid-cols-12","gap-y-4"],[1,"xl:col-span-12","col-span-12"],["for","signin-username",1,"form-label","text-default"],["type","text","id","signin-username","placeholder","Username","autocomplete","","formControlName","username","required","",1,"form-control","form-control-lg","w-full","!rounded-md",3,"ngModelChange","ngModel"],[1,"xl:col-span-12","col-span-12","mb-2"],["for","signin-password",1,"form-label","text-default","block"],["routerLink","/authentication/reset-password/basic",1,"ltr:float-right","rtl:float-left","text-danger"],[1,"input-group"],["type","password","id","signin-password","placeholder","password","autocomplete","","formControlName","password","required","",1,"form-control","form-control-lg","!rounded-s-md",3,"ngModelChange","type","ngModel"],["aria-label","button","type","button","id","button-addon2",1,"ti-btn","ti-btn-light","!rounded-s-none","!mb-0",3,"click"],[1,"mt-2"],[1,"form-check","!ps-0"],["type","checkbox","value","","id","defaultCheck1",1,"form-check-input"],["for","defaultCheck1",1,"form-check-label","text-[#8c9097]","dark:text-white/50","font-normal"],[1,"xl:col-span-12","col-span-12","grid","mt-2"],["type","submit","autofocus","",3,"disabled"],[1,"text-[0.75rem]","text-[#8c9097]","dark:text-white/50","mt-4"],["routerLink","/authentication/sign-up/basic",1,"text-primary"],[1,"text-center","my-4","authentication-barrier"],[1,"btn-list","text-center"],["aria-label","button","type","button",1,"ti-btn","ti-btn-icon","ti-btn-light","me-[0.365rem]"],[1,"ri-facebook-line","font-bold","text-dark","opacity-[0.7]"],[1,"ri-google-line","font-bold","text-dark","opacity-[0.7]"],["aria-label","button","type","button",1,"ti-btn","ti-btn-icon","ti-btn-light"],[1,"ri-twitter-line","font-bold","text-dark","opacity-[0.7]"],["id","segment-2","role","tabpanel","aria-labelledby","segment-item-2",3,"ngSubmit","formGroup"],[3,"ngSubmit","formGroup"],["type","text","id","signin-username","placeholder","user name","formControlName","username","autocomplete","",1,"form-control","form-control-lg","w-full","!rounded-md"],["type","password","id","signin-password","placeholder","password","formControlName","password","autocomplete","",1,"form-control","form-control-lg","!rounded-s-md",3,"type"],["type","submit",1,"ti-btn","ti-btn-primary","!bg-primary","!text-white","!font-medium",3,"disabled"]],template:function(n,e){n&1&&(t(0,"div",0)(1,"div",1),s(2,"div",2),t(3,"div",3)(4,"div",4)(5,"div",5)(6,"p",6),a(7,"Sign In"),r(),t(8,"p",7),a(9,"Welcome back Naveen !"),r(),t(10,"nav",8)(11,"a",9),s(12,"img",10)(13,"img",11),r()(),t(14,"div",12)(15,"form",13),g("ngSubmit",function(){return e.login()}),j(16,se,2,1,"p",14)(17,le,2,1,"p",14),t(18,"div",15),s(19,"h1",16),r(),t(20,"div",12)(21,"div",17)(22,"div",18)(23,"label",19),a(24,"User Name"),r(),t(25,"input",20),I("ngModelChange",function(d){return A(e.email,d)||(e.email=d),d}),r()(),t(26,"div",21)(27,"label",22),a(28,"Password"),t(29,"a",23),a(30,"Forget password ?"),r()(),t(31,"div",24)(32,"input",25),I("ngModelChange",function(d){return A(e.password,d)||(e.password=d),d}),r(),t(33,"button",26),g("click",function(){return e.toggleVisibility()}),s(34,"i"),r()(),t(35,"div",27)(36,"div",28),s(37,"input",29),t(38,"label",30),a(39," Remember password ? "),r()()()(),t(40,"div",31)(41,"button",32),a(42,"Sign In"),r()()(),t(43,"div",15)(44,"p",33),a(45,"Dont have an account? "),t(46,"a",34),a(47,"Sign Up"),r()()(),t(48,"div",35)(49,"span"),a(50,"OR"),r()(),t(51,"div",36)(52,"button",37),s(53,"i",38),r(),t(54,"button",37),s(55,"i",39),r(),t(56,"button",40),s(57,"i",41),r()()()(),t(58,"div",42),g("ngSubmit",function(){return e.Submit()}),t(59,"div",15),s(60,"h1",16),r(),t(61,"div",12)(62,"form",43),g("ngSubmit",function(){return e.Submit()}),t(63,"div",14),a(64),r(),t(65,"div",17)(66,"div",18)(67,"label",19),a(68,"User Name"),r(),s(69,"input",44),r(),t(70,"div",21)(71,"label",22),a(72,"Password"),t(73,"a",23),a(74,"Forget password ?"),r()(),t(75,"div",24),s(76,"input",45),t(77,"button",26),g("click",function(){return e.toggleVisibility()}),s(78,"i"),r()(),t(79,"div",27)(80,"div",28),s(81,"input",29),t(82,"label",30),a(83," Remember password ? "),r()()()(),t(84,"div",31)(85,"button",46),a(86,"Sign In"),r()()()(),t(87,"div",15)(88,"p",33),a(89,"Dont have an account? "),t(90,"a",34),a(91,"Sign Up"),r()()(),t(92,"div",35)(93,"span"),a(94,"OR"),r()(),t(95,"div",36)(96,"button",37),s(97,"i",38),r(),t(98,"button",37),s(99,"i",39),r(),t(100,"button",40),s(101,"i",41),r()()()()()()()(),s(102,"div",2),r()()),n&2&&(l(15),u("formGroup",e.loginForm),l(),_(16,e.errorMessage.length>0?16:-1),l(),_(17,e._error.message.length>0?17:-1),l(8),F("ngModel",e.email),l(7),u("type",e.showPassword?"text":"password"),F("ngModel",e.password),l(2),b("ri-eye-",e.toggleClass," align-middle"),l(7),b("ti-btn ti-btn-primary !bg-primary !text-white !font-medium ",e.disabled,""),N("loader--text",e.authservice.showLoader),u("disabled",!e.loginForm.valid||e.authservice.showLoader),l(17),u("formGroup",e.loginForm),l(4),u("formGroup",e.loginForm),l(2),v(" ",e.error," "),l(12),u("type",e.showPassword?"text":"password"),l(2),b("ri-eye-",e.toggleClass," align-middle"),l(7),u("disabled",!e.loginForm.valid||e.authservice.showLoader))},dependencies:[T,W,x,K,B,G,O,q,J,Q,Z,z,y,E,k,$],styles:[".firebase{width:30px;height:30px}  .rounded-lg{width:120px;justify-content:center;margin:auto;border-radius:.75rem}"]})}}return o})();export{Ce as LoginComponent};
