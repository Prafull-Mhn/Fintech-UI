import{a as w,b as X,c as x,d as k,e as E,f as Y,g as h,h as $}from"./chunk-L6MBT6A4.js";import"./chunk-6LIFATZG.js";import"./chunk-CARY4E7O.js";import{d as S,e as W,h as T}from"./chunk-BMNNM7E3.js";import{c as G,e as y,g as O,h as q,k as B,m as J,n as Z,o as z,q as H,r as K,s as Q}from"./chunk-GYGRJCWT.js";import"./chunk-FB5GXQ5S.js";import{Db as R,Fb as u,Hb as D,Jb as b,Mb as _,Rb as t,Sb as r,Tb as s,bc as g,dc as C,dd as L,la as p,lb as l,mb as c,mc as a,oc as v,qa as f,qc as F,rc as A,sb as U,sc as I,tc as N,ub as j,uc as V,wa as P}from"./chunk-XWBH5M2L.js";import"./chunk-5VBBBU7A.js";L();var M=(()=>{class o{constructor(){w.initializeApp(Y.firebase)}getFirestore(){return k}getDatabase(){return E}getAuth(){return x}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275prov=p({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();L();L();var te=(()=>{class o{constructor(i,n,e){this.afu=i,this.router=n,this.ngZone=e,this.showLoader=!1,this.afu.authState.subscribe(m=>{this.authState=m})}get isUserAnonymousLoggedIn(){return this.authState!==null?this.authState.isAnonymous:!1}get currentUserId(){return this.authState!==null?this.authState.uid:""}get currentUserName(){return this.authState.email}get currentUser(){return this.authState!==null?this.authState:null}get isUserEmailLoggedIn(){return this.authState!==null&&!this.isUserAnonymousLoggedIn}registerWithEmail(i,n){return this.afu.createUserWithEmailAndPassword(i,n).then(e=>{this.authState=e}).catch(e=>{throw console.log(e),e})}loginWithEmail(i,n){return this.afu.signInWithEmailAndPassword(i,n).then(e=>{this.authState=e}).catch(e=>{throw console.log(e),e})}singout(){this.afu.signOut(),this.router.navigate(["/login"])}SignUp(i,n){return this.afAuth.createUserWithEmailAndPassword(i,n).then(e=>{this.SendVerificationMail(),this.SetUserData(e.user)}).catch(e=>{window.alert(e.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(i=>i.sendEmailVerification()).then(()=>{this.router.navigate(["/dashboard"])})}SetUserData(i){let n=this.afs.doc(`users/${i.uid}`),e={email:i.email,displayName:i.displayName,uid:i.uid,photoURL:i.photoURL||"src/favicon.ico",emailVerified:i.emailVerified};return n.delete().then(function(){}).catch(function(m){}),n.set(e,{merge:!0})}SignIn(i,n){return this.afAuth.signInWithEmailAndPassword(i,n).then(e=>{e.user.emailVerified!==!0?(this.SetUserData(e.user),this.SendVerificationMail(),this.showLoader=!0):(this.showLoader=!1,this.ngZone.run(()=>{this.router.navigate(["/auth/login"])}))}).catch(e=>{throw e})}ForgotPassword(i){return this.afAuth.sendPasswordResetEmail(i).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(n=>{window.alert(n)})}static{this.\u0275fac=function(n){return new(n||o)(f(X),f(S),f(j))}}static{this.\u0275prov=p({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function se(o,ie){if(o&1&&(t(0,"p",19),a(1),r()),o&2){let i=C();l(),v(" ",i.errorMessage,"")}}function le(o,ie){if(o&1&&(t(0,"p",19),a(1),r()),o&2){let i=C();l(),v(" ",i._error.message," ")}}var Ce=(()=>{class o{constructor(i,n,e,m,d,re){this.authservice=i,this.router=n,this.formBuilder=e,this.renderer=m,this.firebaseService=d,this.toastr=re,this.disabled="",this.firestoreModule=this.firebaseService.getFirestore(),this.databaseModule=this.firebaseService.getDatabase(),this.authModule=this.firebaseService.getAuth(),this.email="algoSky@admin.com",this.password="algoSkyadmin",this.errorMessage="",this._error={name:"",message:""},this.error="",this.showPassword=!1,this.toggleClass="off-line";let me=this.renderer.selectRootElement("body",!0)}ngOnInit(){this.loginForm=this.formBuilder.group({username:["algoSky@admin.com",[y.required,y.email]],password:["algoSkyadmin",y.required]})}clearErrorMessage(){this.errorMessage="",this._error={name:"",message:""}}login(){console.log(this.loginForm),this.clearErrorMessage(),this.validateForm(this.email,this.password)&&(this.authservice.loginWithEmail(this.email,this.password).then(()=>{this.router.navigate(["/home/dashboard"]),console.clear()}).catch(i=>{this._error=i,this.router.navigate(["/"])}),this.toastr.success("log in successful","AlgoSky",{timeOut:3e3,positionClass:"toast-top-right"}))}validateForm(i,n){return i.length===0?(this.errorMessage="please enter email id",!1):n.length===0?(this.errorMessage="please enter password",!1):n.length<6?(this.errorMessage="password should be at least 6 char",!1):(this.errorMessage="",!0)}get form(){return this.loginForm.controls}Submit(){console.log(this.loginForm),this.loginForm.controls.username.value==="algoSky@admin.com"&&this.loginForm.controls.password.value==="algoSkyadmin"?this.router.navigate(["/home/dashboard"]):this.error="Please check email and passowrd"}ngOnDestroy(){let i=this.renderer.selectRootElement("body",!0);this.renderer.removeAttribute(i,"class")}toggleVisibility(){this.showPassword=!this.showPassword,this.toggleClass==="off-line"?this.toggleClass="line":this.toggleClass="off-line"}static{this.\u0275fac=function(n){return new(n||o)(c(te),c(S),c(H),c(U),c(M),c(h))}}static{this.\u0275cmp=P({type:o,selectors:[["app-login"]],standalone:!0,features:[N([M,{provide:h,useClass:h}]),V],decls:108,vars:23,consts:[[1,"flex","justify-center","authentication","authentication-basic","items-center","h-full","text-defaultsize","text-defaulttextcolor"],[1,"grid","grid-cols-12"],[1,"xxl:col-span-4","xl:col-span-4","lg:col-span-4","md:col-span-3","sm:col-span-2"],[1,"xxl:col-span-4","xl:col-span-4","lg:col-span-4","md:col-span-6","sm:col-span-8","col-span-12"],[1,"my-[2.5rem]","flex","justify-center"],["routerLink","/home/dashboard"],["src","./assets/images/brand-logos/desktop-logo.JPG","alt","logo",1,"desktop-logo"],["src","./assets/images/brand-logos/desktop-dark.JPG","alt","logo",1,"desktop-dark"],[1,"box"],[1,"box-body","!p-[3rem]"],[1,"h5","font-semibold","mb-2","text-center"],[1,"mb-4","text-[#8c9097]","dark:text-white/50","opacity-[0.7]","font-normal","text-center"],[1,"sm:flex","bg-gray-100","hover:bg-gray-200","rounded-lg","transition","p-1","dark:bg-black/20","dark:hover:bg-black/20"],["href","javascript:void(0);","id","segment-item-1","data-hs-tab","#segment-1","aria-controls","segment-1",1,"w-full","sm:w-auto","hs-tab-active:bg-primary","hs-tab-active:text-gray-700","dark:hs-tab-active:bg-bgdark","dark:hs-tab-active:text-white","py-2","px-3","inline-flex","items-center","gap-2","bg-transparent","text-sm","text-gray-500","hover:text-gray-700","font-medium","rounded-md","hover:hover:text-primary","dark:text-white/70","dark:hover:text-white"],["src","./assets/images/firebase.svg","alt","",1,"firebase"],["href","javascript:void(0);","id","segment-item-2","data-hs-tab","#segment-2","aria-controls","segment-2",1,"w-full","sm:w-auto","hs-tab-active:bg-primary","hs-tab-active:text-gray-700","dark:hs-tab-active:bg-bgdark","dark:hs-tab-active:text-white","py-2","px-3","inline-flex","items-center","gap-2","bg-transparent","text-sm","text-gray-500","hover:text-gray-700","font-medium","rounded-md","hover:hover:text-primary","dark:text-white/70","dark:hover:text-white","active"],["src","./assets/images/favicon.svg","alt","",1,"firebase"],[1,"mt-3"],["id","segment-1","role","tabpanel","aria-labelledby","segment-item-1",1,"hidden",3,"ngSubmit","formGroup"],[1,"text-danger"],[1,"text-center"],[1,"block","text-2xl","font-bold","text-gray-800","dark:text-white"],[1,"grid","grid-cols-12","gap-y-4"],[1,"xl:col-span-12","col-span-12"],["for","signin-username",1,"form-label","text-default"],["type","text","id","signin-username","placeholder","Username","autocomplete","","formControlName","username","required","",1,"form-control","form-control-lg","w-full","!rounded-md",3,"ngModelChange","ngModel"],[1,"xl:col-span-12","col-span-12","mb-2"],["for","signin-password",1,"form-label","text-default","block"],["routerLink","/authentication/reset-password/basic",1,"ltr:float-right","rtl:float-left","text-danger"],[1,"input-group"],["type","password","id","signin-password","placeholder","password","autocomplete","","formControlName","password","required","",1,"form-control","form-control-lg","!rounded-s-md",3,"ngModelChange","type","ngModel"],["aria-label","button","type","button","id","button-addon2",1,"ti-btn","ti-btn-light","!rounded-s-none","!mb-0",3,"click"],[1,"mt-2"],[1,"form-check","!ps-0"],["type","checkbox","value","","id","defaultCheck1",1,"form-check-input"],["for","defaultCheck1",1,"form-check-label","text-[#8c9097]","dark:text-white/50","font-normal"],[1,"xl:col-span-12","col-span-12","grid","mt-2"],["type","submit","autofocus","",3,"disabled"],[1,"text-[0.75rem]","text-[#8c9097]","dark:text-white/50","mt-4"],["routerLink","/authentication/sign-up/basic",1,"text-primary"],[1,"text-center","my-4","authentication-barrier"],[1,"btn-list","text-center"],["aria-label","button","type","button",1,"ti-btn","ti-btn-icon","ti-btn-light","me-[0.365rem]"],[1,"ri-facebook-line","font-bold","text-dark","opacity-[0.7]"],[1,"ri-google-line","font-bold","text-dark","opacity-[0.7]"],["aria-label","button","type","button",1,"ti-btn","ti-btn-icon","ti-btn-light"],[1,"ri-twitter-line","font-bold","text-dark","opacity-[0.7]"],["id","segment-2","role","tabpanel","aria-labelledby","segment-item-2",3,"ngSubmit","formGroup"],[3,"ngSubmit","formGroup"],["type","text","id","signin-username","placeholder","user name","formControlName","username","autocomplete","",1,"form-control","form-control-lg","w-full","!rounded-md"],["type","password","id","signin-password","placeholder","password","formControlName","password","autocomplete","",1,"form-control","form-control-lg","!rounded-s-md",3,"type"],["type","submit",1,"ti-btn","ti-btn-primary","!bg-primary","!text-white","!font-medium",3,"disabled"]],template:function(n,e){n&1&&(t(0,"div",0)(1,"div",1),s(2,"div",2),t(3,"div",3)(4,"div",4)(5,"a",5),s(6,"img",6)(7,"img",7),r()(),t(8,"div",8)(9,"div",9)(10,"p",10),a(11,"Sign In"),r(),t(12,"p",11),a(13,"Welcome back Jhon !"),r(),t(14,"nav",12)(15,"a",13),s(16,"img",14),r(),t(17,"a",15),s(18,"img",16),r()(),t(19,"div",17)(20,"form",18),g("ngSubmit",function(){return e.login()}),R(21,se,2,1,"p",19)(22,le,2,1,"p",19),t(23,"div",20),s(24,"h1",21),r(),t(25,"div",17)(26,"div",22)(27,"div",23)(28,"label",24),a(29,"User Name"),r(),t(30,"input",25),I("ngModelChange",function(d){return A(e.email,d)||(e.email=d),d}),r()(),t(31,"div",26)(32,"label",27),a(33,"Password"),t(34,"a",28),a(35,"Forget password ?"),r()(),t(36,"div",29)(37,"input",30),I("ngModelChange",function(d){return A(e.password,d)||(e.password=d),d}),r(),t(38,"button",31),g("click",function(){return e.toggleVisibility()}),s(39,"i"),r()(),t(40,"div",32)(41,"div",33),s(42,"input",34),t(43,"label",35),a(44," Remember password ? "),r()()()(),t(45,"div",36)(46,"button",37),a(47,"Sign In"),r()()(),t(48,"div",20)(49,"p",38),a(50,"Dont have an account? "),t(51,"a",39),a(52,"Sign Up"),r()()(),t(53,"div",40)(54,"span"),a(55,"OR"),r()(),t(56,"div",41)(57,"button",42),s(58,"i",43),r(),t(59,"button",42),s(60,"i",44),r(),t(61,"button",45),s(62,"i",46),r()()()(),t(63,"div",47),g("ngSubmit",function(){return e.Submit()}),t(64,"div",20),s(65,"h1",21),r(),t(66,"div",17)(67,"form",48),g("ngSubmit",function(){return e.Submit()}),t(68,"div",19),a(69),r(),t(70,"div",22)(71,"div",23)(72,"label",24),a(73,"User Name"),r(),s(74,"input",49),r(),t(75,"div",26)(76,"label",27),a(77,"Password"),t(78,"a",28),a(79,"Forget password ?"),r()(),t(80,"div",29),s(81,"input",50),t(82,"button",31),g("click",function(){return e.toggleVisibility()}),s(83,"i"),r()(),t(84,"div",32)(85,"div",33),s(86,"input",34),t(87,"label",35),a(88," Remember password ? "),r()()()(),t(89,"div",36)(90,"button",51),a(91,"Sign In"),r()()()(),t(92,"div",20)(93,"p",38),a(94,"Dont have an account? "),t(95,"a",39),a(96,"Sign Up"),r()()(),t(97,"div",40)(98,"span"),a(99,"OR"),r()(),t(100,"div",41)(101,"button",42),s(102,"i",43),r(),t(103,"button",42),s(104,"i",44),r(),t(105,"button",45),s(106,"i",46),r()()()()()()()(),s(107,"div",2),r()()),n&2&&(l(20),u("formGroup",e.loginForm),l(),_(21,e.errorMessage.length>0?21:-1),l(),_(22,e._error.message.length>0?22:-1),l(8),F("ngModel",e.email),l(7),u("type",e.showPassword?"text":"password"),F("ngModel",e.password),l(2),b("ri-eye-",e.toggleClass," align-middle"),l(7),b("ti-btn ti-btn-primary !bg-primary !text-white !font-medium ",e.disabled,""),D("loader--text",e.authservice.showLoader),u("disabled",!e.loginForm.valid||e.authservice.showLoader),l(17),u("formGroup",e.loginForm),l(4),u("formGroup",e.loginForm),l(2),v(" ",e.error," "),l(12),u("type",e.showPassword?"text":"password"),l(2),b("ri-eye-",e.toggleClass," align-middle"),l(7),u("disabled",!e.loginForm.valid||e.authservice.showLoader))},dependencies:[T,W,x,K,B,G,O,q,z,Q,J,Z,w,E,k,$],styles:[".firebase{width:30px;height:30px}  .rounded-lg{width:120px;justify-content:center;margin:auto;border-radius:.75rem}"]})}}return o})();export{Ce as LoginComponent};
