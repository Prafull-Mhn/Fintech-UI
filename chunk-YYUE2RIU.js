import{a as re,b as ae,c as se}from"./chunk-JM6XD55Y.js";import{f as ne,g as oe}from"./chunk-G7UHNQID.js";import{d as z,e as J,h as K}from"./chunk-5GEWOZRP.js";import{a as O}from"./chunk-ME7WQYDW.js";import"./chunk-CARY4E7O.js";import"./chunk-FXOCLQ3T.js";import{a as Q,d as M,f as T,h as k,i as X,l as P,m as Y,p as Z,r as $,v as ee,w as te,x as E,y as ie}from"./chunk-EBTZRFCE.js";import{$b as v,Ab as t,Bb as i,Ca as h,Cb as l,Da as x,Db as B,Ea as D,Eb as A,Fa as N,Gb as L,Jb as g,La as I,Lb as c,Ta as W,Ub as a,Wb as b,Xa as s,Ya as y,Zb as _,_b as C,ac as U,bc as S,cb as j,dd as H,nb as u,pb as V,ta as w,tb as F,vb as m,wb as G,yb as R,zb as q}from"./chunk-IZBYZ66D.js";function pe(n,p){if(n&1&&(t(0,"div",7),a(1),i()),n&2){let e=c();s(),b(" ",e.verificationMessage," ")}}var de=(()=>{class n{constructor(){this.otpInput="",this.verificationMessage="",this.otpFormVisible=!0,this.otpVerified=new I}verifyOTP(){this.otpInput==="123654"?this.otpVerified.emit():(this.verificationMessage="Incorrect OTP. Please try again.",this.otpInput="")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=w({type:n,selectors:[["app-otp"]],outputs:{otpVerified:"otpVerified"},standalone:!0,features:[S],decls:11,vars:2,consts:[[1,"bg-white","p-6","rounded-lg","shadow-lg","w-fit"],["src","./assets/images/brand-logos/desktop-logo.png","alt","logo",1,"desktop-logo","send-center"],[1,"text-2xl","font-semibold","mb-4","text-center"],[1,"mb-4"],["for","otpInput",1,"block","text-gray-700","font-medium","mb-2"],["type","text","id","otpInput","name","otpInput","placeholder","Enter the OTP",1,"border","border-gray-300","rounded-md","px-3","py-2","w-full","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["type","button",1,"bg-blue-500","hover:bg-blue-700","text-white","font-medium","py-2","px-4","rounded-md",3,"click"],[1,"mt-4","text-center","message"]],template:function(r,o){r&1&&(t(0,"div",0),l(1,"img",1),t(2,"h2",2),a(3,"OTP Verification"),i(),t(4,"div",3)(5,"label",4),a(6,"Enter OTP:"),i(),t(7,"input",5),v("ngModelChange",function(f){return C(o.otpInput,f)||(o.otpInput=f),f}),i()(),t(8,"button",6),g("click",function(){return o.verifyOTP()}),a(9," Verify "),i(),u(10,pe,2,1,"div",7),i()),r&2&&(s(7),_("ngModel",o.otpInput),s(3),m(10,o.verificationMessage?10:-1))},dependencies:[E,M,k,P],styles:[".bg-white[_ngcontent-%COMP%]{padding:2rem;width:fit-content;margin:0 auto}input[type=text][_ngcontent-%COMP%]{width:100%;padding:.75rem}button[_ngcontent-%COMP%]{margin-top:1rem;background-color:#007bff;color:#fff}label[_ngcontent-%COMP%]{margin-bottom:.5rem}.message[_ngcontent-%COMP%]{color:#eb1b1b}"]})}}return n})();function ue(n,p){if(n&1&&(t(0,"div",12),a(1),i()),n&2){let e=c();s(),b(" ",e.verificationMessage," ")}}var me=(()=>{class n{constructor(){this.captchaText="",this.captchaInput="",this.verificationMessage="",this.captchaSuccess=new I}ngOnInit(){this.generateCaptcha()}generateCaptcha(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r="";for(let d=0;d<6;d++)r+=e.charAt(Math.floor(Math.random()*e.length));this.captchaText=r}verifyCaptcha(){this.captchaInput===this.captchaText?this.captchaSuccess.emit():(this.verificationMessage="Incorrect captcha. Please try again.",this.captchaInput="",this.generateCaptcha())}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=w({type:n,selectors:[["app-captcha"]],outputs:{captchaSuccess:"captchaSuccess"},standalone:!0,features:[S],decls:17,vars:3,consts:[[1,"bg-white","p-6","rounded-lg","shadow-lg","w-fit"],["src","./assets/images/brand-logos/desktop-logo.png","alt","logo",1,"desktop-logo","send-center"],[1,"text-2xl","font-semibold","mb-4","text-center"],[1,"mb-4","flex","items-center","justify-center"],[1,"captcha-text","bg-gray-100","border","border-gray-300","rounded-md","px-3","py-2","mr-2","text-center",2,"user-select","none","font-family","monospace","letter-spacing","0.2rem"],["type","button",1,"text-blue-500","hover:text-blue-700","font-medium",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M4 4v5h.582m1.51-1.911a9.802 9.802 0 016.661-.407m-4.096 9.025l.029.019a2 2 0 012.011.962c.005.052.01.103.015.155m-4.022-2.052a4.56 4.56 0 00-.757.065m3.58-3.982c.163.021.327.041.49.059m-1.94-8.092c3.4 4.468 9.567 4.074 12.054 0"],[1,"mb-4"],["for","captchaInput",1,"block","text-gray-700","font-medium","mb-2"],["type","text","id","captchaInput","name","captchaInput","placeholder","Enter the captcha",1,"border","border-gray-300","rounded-md","px-3","py-2","w-full","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["type","button",1,"bg-blue-500","hover:bg-blue-700","text-white","font-medium","py-2","px-4","rounded-md",3,"click"],[1,"mt-4","message","text-center"]],template:function(r,o){r&1&&(t(0,"div",0),l(1,"img",1),t(2,"h2",2),a(3,"Captcha Verification"),i(),t(4,"div",3)(5,"div",4),a(6),i(),t(7,"button",5),g("click",function(){return o.generateCaptcha()}),D(),t(8,"svg",6),l(9,"path",7),i()()(),N(),t(10,"div",8)(11,"label",9),a(12,"Enter Captcha:"),i(),t(13,"input",10),v("ngModelChange",function(f){return C(o.captchaInput,f)||(o.captchaInput=f),f}),i()(),t(14,"button",11),g("click",function(){return o.verifyCaptcha()}),a(15," Verify "),i(),u(16,ue,2,1,"div",12),i()),r&2&&(s(6),b(" ",o.captchaText," "),s(7),_("ngModel",o.captchaInput),s(3),m(16,o.verificationMessage?16:-1))},dependencies:[E,M,k,P],styles:[".bg-white[_ngcontent-%COMP%]{padding:2rem;padding-top:0;width:fit-content;margin:0 auto;width:100%}.captcha-text[_ngcontent-%COMP%]{background-color:#f0f0f0;border:1px solid #ccc;font-family:monospace;letter-spacing:.1rem;padding:.5rem 1rem;text-align:center}input[type=text][_ngcontent-%COMP%]{width:100%;padding:.75rem}button[_ngcontent-%COMP%]{margin-top:1rem;background-color:#007bff;color:#fff}.message[_ngcontent-%COMP%]{color:#eb1b1b}label[_ngcontent-%COMP%]{margin-bottom:.5rem}.send-center[_ngcontent-%COMP%]{justify-self:anchor-center!important}"]})}}return n})();function ge(n,p){n&1&&l(0,"app-loader")}function fe(n,p){if(n&1&&(t(0,"p",21),a(1),i()),n&2){let e=c(3);s(),b(" ",e.errorMessage,"")}}function he(n,p){if(n&1){let e=L();t(0,"div",2),l(1,"div",9),t(2,"div",10)(3,"div",11)(4,"div",12)(5,"p",13),a(6,"Log In"),i(),t(7,"p",14),a(8,"Welcome"),i(),t(9,"nav",15)(10,"a",16),l(11,"img",17),i()(),t(12,"div",18)(13,"div",19)(14,"div",18)(15,"form",20),g("ngSubmit",function(){h(e);let o=c(2);return x(o.login())}),u(16,fe,2,1,"p",21),t(17,"div",22),l(18,"h1",23),i(),t(19,"div",18)(20,"div",24)(21,"div",25)(22,"label",26),a(23,"User Name"),i(),t(24,"input",27),v("ngModelChange",function(o){h(e);let d=c(2);return C(d.email,o)||(d.email=o),x(o)}),i()(),t(25,"div",28)(26,"label",29),a(27,"Password"),t(28,"a",30),a(29,"Forget password ?"),i()(),t(30,"div",31)(31,"input",32),v("ngModelChange",function(o){h(e);let d=c(2);return C(d.password,o)||(d.password=o),x(o)}),i(),t(32,"button",33),g("click",function(){h(e);let o=c(2);return x(o.toggleVisibility())}),l(33,"i"),i()(),t(34,"div",34)(35,"div",35),l(36,"input",36),t(37,"label",37),a(38," Remember password ? "),i()()()(),t(39,"div",38)(40,"button",39),a(41,"Log In"),i()()(),t(42,"div",22)(43,"p",40),a(44,"Dont have an account? "),t(45,"a",41),a(46,"Sign Up"),i()()(),t(47,"div",42)(48,"span"),a(49,"OR"),i()(),t(50,"div",43)(51,"button",44),l(52,"i",45),i(),t(53,"button",44),l(54,"i",46),i(),t(55,"button",47),l(56,"i",48),i()()()()()()()()()(),l(57,"div",9),i()}if(n&2){let e=c(2);s(15),V("formGroup",e.loginForm),s(),m(16,e.errorMessage.length>0?16:-1),s(8),_("ngModel",e.email),s(7),V("type",e.showPassword?"text":"password"),_("ngModel",e.password),s(2),F("ri-eye-",e.toggleClass," align-middle"),s(7),F("ti-btn ti-btn-primary !bg-primary !text-white !font-medium ",e.disabled,"")}}function xe(n,p){if(n&1){let e=L();t(0,"app-captcha",49),g("captchaSuccess",function(){h(e);let o=c(3);return x(o.isCaptchaVerified=!0)}),i()}}function be(n,p){if(n&1){let e=L();t(0,"app-otp",50),g("otpVerified",function(){h(e);let o=c(3);return o.isOtpVerified=!0,x(o.otpVerified())}),i()}}function _e(n,p){if(n&1&&(t(0,"div",2),u(1,xe,1,0,"app-captcha")(2,be,1,0,"app-otp"),i()),n&2){let e=c(2);s(),m(1,e.isCaptchaVerified?-1:1),s(),m(2,e.isCaptchaVerified?2:-1)}}function Ce(n,p){if(n&1&&(t(0,"div",52)(1,"div",53)(2,"div",54)(3,"div")(4,"div",55),l(5,"img",56),i(),t(6,"h6",57),a(7,"Login"),i(),t(8,"p",58),a(9,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ipsa eligendi expedita aliquam quaerat nulla voluptas facilis. Porro rem voluptates possimus, ad, autem quae culpa architecto, quam labore blanditiis at ratione."),i()()()()()),n&2){let e=c().$implicit;s(5),V("src",e.img,W)}}function ve(n,p){n&1&&(B(0),u(1,Ce,10,1,"ng-template",51),A())}function we(n,p){if(n&1&&(t(0,"div",0)(1,"div",1),u(2,he,58,11,"div",2)(3,_e,3,2,"div",2),i(),t(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"owl-carousel-o",7),R(9,ve,2,0,"ng-container",null,G),i(),l(11,"div",8),i()()()()()),n&2){let e=c();s(2),m(2,e.userLoginSucess?-1:2),s(),m(3,e.userLoginSucess?3:-1),s(5),V("options",e.customOptions)("dir",e.customOptions.rtl?"rtl":"ltr"),s(),q(e.slidesStore)}}var Ke=(()=>{class n{constructor(e,r,o,d,f){this.router=e,this.formBuilder=r,this.renderer=o,this.apiService=d,this.messageNotificationService=f,this.disabled="",this.showLoader=!1,this.customOptions={loop:!0,rtl:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,navSpeed:700,autoplay:!0,navText:["<",">"],autoHeight:!0,autoWidth:!0,responsive:{0:{items:1},400:{items:1},740:{items:1},1e3:{items:1}},nav:!0},this.slidesStore=[{img:"./assets/images/brand-logos/desktop-logo.png"},{img:"./assets/images/brand-logos/desktop-logo.png"},{img:"./assets/images/brand-logos/desktop-logo.png"}],this.userLoginSucess=!1,this.email="",this.password="",this.errorMessage="",this.error="",this.showPassword=!1,this.toggleClass="off-line",this.isCaptchaVerified=!1,this.isOtpVerified=!1;let ye=this.renderer.selectRootElement("body",!0)}ngOnInit(){this.loginForm=this.formBuilder.group({username:["",[T.required,T.email]],password:["",T.required]})}clearErrorMessage(){this.errorMessage=""}login(){this.clearErrorMessage(),this.showLoader=!0,this.validateForm(this.email,this.password)&&this.apiService.getLoginDetails(this.email,this.password).subscribe({next:e=>{e?(this.loginDetails=e,this.userLoginSucess=!0,sessionStorage.setItem("token",e.token),sessionStorage.setItem("userDetails",JSON.stringify(e)),this.getServiceList(e.tenantId,e.userId),this.showLoader=!1):this.messageNotificationService.error(e.message,"error")},error:e=>{console.error("Error fetching data:",e),this.messageNotificationService.error("Unable to Fetch User Details","error"),this.errorMessage="Invalid User Name or Password"}})}getServiceList(e,r){this.apiService.getUserService(e,r).subscribe({next:o=>{sessionStorage.setItem("services",JSON.stringify(o))},error:o=>{console.error("Error fetching data:",o)}})}updateGreeting(){let r=new Date().getHours();return r>=5&&r<12?"Good Morning!":r>=12&&r<17?"Good Afternoon!":(r>=17&&r<21,"Good Evening!")}validateForm(e,r){return e.length===0?(this.errorMessage="please enter email id",!1):r.length===0?(this.errorMessage="please enter password",!1):r.length<6?(this.errorMessage="password should be at least 6 char",!1):(this.errorMessage="",!0)}get form(){return this.loginForm.controls}ngOnDestroy(){let e=this.renderer.selectRootElement("body",!0);this.renderer.removeAttribute(e,"class")}toggleVisibility(){this.showPassword=!this.showPassword,this.toggleClass==="off-line"?this.toggleClass="line":this.toggleClass="off-line"}otpVerified(){this.router.navigate(["/home/dashboard"]),setTimeout(()=>{this.messageNotificationService.success(this.updateGreeting()+" Welcome "+this.loginDetails.name+" Have a nice day","success")},500)}static{this.\u0275fac=function(r){return new(r||n)(y(z),y(te),y(j),y(O),y(Q))}}static{this.\u0275cmp=w({type:n,selectors:[["app-login"]],standalone:!0,features:[U([O]),S],decls:2,vars:1,consts:[[1,"grid","grid-cols-12","authentication","mx-0","text-defaulttextcolor","text-defaultsize"],[1,"xxl:col-span-7","xl:col-span-7","lg:col-span-12","col-span-12"],[1,"flex","justify-center","items-center","h-full"],[1,"xxl:col-span-5","xl:col-span-5","lg:col-span-5","col-span-12","xl:block","hidden","px-0"],[1,"authentication-cover"],[1,"aunthentication-cover-content","rounded"],[1,"swiper","keyboard-control","authentication"],[3,"options","dir"],[1,"swiper-pagination"],[1,"xxl:col-span-3","xl:col-span-3","lg:col-span-3","md:col-span-3","sm:col-span-2"],[1,"xxl:col-span-6","xl:col-span-6","lg:col-span-6","md:col-span-6","sm:col-span-8","col-span-12"],[1,"box"],[1,"box-body","!p-[3rem]"],[1,"h5","font-semibold","mb-2","text-center"],[1,"mb-4","text-[#8c9097]","dark:text-white/50","opacity-[0.7]","font-normal","text-center"],[1,"sm:flex","bg-gray-100","hover:bg-gray-200","rounded-lg","transition","p-1","dark:bg-black/20","dark:hover:bg-black/20"],["href","javascript:void(0);","id","segment-item-1","data-hs-tab","#segment-1","aria-controls","segment-1",1,"w-full","sm:w-auto","hs-tab-active:bg-primary","hs-tab-active:text-gray-700","dark:hs-tab-active:bg-bgdark","dark:hs-tab-active:text-white","py-2","px-3","inline-flex","items-center","gap-2","bg-transparent","text-sm","text-gray-500","hover:text-gray-700","font-medium","rounded-md","hover:hover:text-primary","dark:text-white/70","dark:hover:text-white"],["src","./assets/images/brand-logos/desktop-logo.png","alt","logo",1,"desktop-logo"],[1,"mt-3"],["id","segment-2","role","tabpanel","aria-labelledby","segment-item-2"],["id","segment-1","role","tabpanel","aria-labelledby","segment-item-1",3,"ngSubmit","formGroup"],[1,"text-danger"],[1,"text-center"],[1,"block","text-2xl","font-bold","text-gray-800","dark:text-white"],[1,"grid","grid-cols-12","gap-y-4"],[1,"xl:col-span-12","col-span-12"],["for","signin-username",1,"form-label","text-default"],["type","text","id","signin-username","placeholder","Username","autocomplete","","formControlName","username","required","",1,"form-control","form-control-lg","w-full","!rounded-md",3,"ngModelChange","ngModel"],[1,"xl:col-span-12","col-span-12","mb-2"],["for","signin-password",1,"form-label","text-default","block"],["routerLink","/authentication/reset-password/basic",1,"ltr:float-right","rtl:float-left","text-danger"],[1,"input-group"],["type","password","id","signin-password","placeholder","password","autocomplete","","formControlName","password","required","",1,"form-control","form-control-lg","!rounded-s-md",3,"ngModelChange","type","ngModel"],["aria-label","button","type","button","id","button-addon2",1,"ti-btn","ti-btn-light","!rounded-s-none","!mb-0",3,"click"],[1,"mt-2"],[1,"form-check","!ps-0"],["type","checkbox","value","","id","defaultCheck1",1,"form-check-input"],["for","defaultCheck1",1,"form-check-label","text-[#8c9097]","dark:text-white/50","font-normal"],[1,"xl:col-span-12","col-span-12","grid","mt-2"],["type","submit","autofocus",""],[1,"text-[0.75rem]","text-[#8c9097]","dark:text-white/50","mt-4"],["routerLink","/authentication/sign-up/basic",1,"text-primary"],[1,"text-center","my-4","authentication-barrier"],[1,"btn-list","text-center"],["aria-label","button","type","button",1,"ti-btn","ti-btn-icon","ti-btn-light","me-[0.365rem]"],[1,"ri-facebook-line","font-bold","text-dark","opacity-[0.7]"],[1,"ri-google-line","font-bold","text-dark","opacity-[0.7]"],["aria-label","button","type","button",1,"ti-btn","ti-btn-icon","ti-btn-light"],[1,"ri-twitter-line","font-bold","text-dark","opacity-[0.7]"],[3,"captchaSuccess"],[3,"otpVerified"],["carouselSlide",""],[1,"swiper-wrapper"],[1,"swiper-slide"],[1,"text-white","text-center","p-[3rem]","flex","items-center","justify-center"],[1,"mb-[3rem]"],["alt","",1,"authentication-image",3,"src"],[1,"font-semibold","text-[1rem]"],[1,"font-normal","text-[.875rem]","opacity-[0.7]"]],template:function(r,o){r&1&&u(0,ge,1,0,"app-loader")(1,we,12,4),r&2&&m(0,o.showLoader?0:1)},dependencies:[K,J,H,E,Y,M,k,X,ee,ie,Z,$,se,ae,re,oe,ne,de,me],styles:[".firebase{width:30px;height:30px}  .rounded-lg{width:120px;justify-content:center;margin:auto;border-radius:.75rem}  img,   video{max-width:60%;height:auto}app-captcha[_ngcontent-%COMP%], app-otp[_ngcontent-%COMP%]{width:300px;margin:0 auto;display:block}"]})}}return n})();export{Ke as LoginComponent};
