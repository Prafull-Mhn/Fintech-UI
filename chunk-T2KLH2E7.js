import{a as B,b as V}from"./chunk-RFCQFOQF.js";import"./chunk-WZR7FGU4.js";import"./chunk-2HWEYSZF.js";import{a as A}from"./chunk-TTTGN722.js";import{c as S,i as w}from"./chunk-NJAA5WMU.js";import{H as x}from"./chunk-VUNI6NKD.js";import"./chunk-CARY4E7O.js";import"./chunk-WFQ5CS6Y.js";import{a as D}from"./chunk-SWM7WQST.js";import{Ab as s,Bb as n,Ca as d,Da as u,Gb as p,Jb as m,Lb as r,Nc as N,Ub as I,Wc as v,Xa as c,Ya as f,a as b,bc as _,dc as h,nb as y,pb as o,ta as C,vb as P}from"./chunk-NVK54OB3.js";var T=t=>({"ti-btn-primary":t});function F(t,g){if(t&1){let e=p();s(0,"app-dynamic-form",7),m("action",function(a){d(e);let l=r();return u(l.applyActionOn(a,2))}),n(),s(1,"app-data-grid",8),m("action",function(a){d(e);let l=r();return u(l.applyActionOn(a))}),n()}if(t&2){let e=r();o("formConfig",e.searchFormConfig)("formName","Search")("columnCount",3),c(),o("tableDataSet",e.userDetails)("tableConfig",e.tableConfig)("tableWidth",100)("formName","Insurance Premium Payment Details")}}function H(t,g){if(t&1){let e=p();s(0,"app-show-details",10),m("action",function(){d(e);let a=r(2);return u(a.payInsurancePremiumBill())}),n()}if(t&2){let e=r(2);o("formValue",e.premiumBillDetails)("formName","Pay Insurance Premium")("displayFields",e.formConfig.fields)}}function G(t,g){if(t&1){let e=p();s(0,"app-dynamic-form",7),m("action",function(a){d(e);let l=r();return u(l.applyActionOn(a,1))}),n(),y(1,H,1,3,"app-show-details",9)}if(t&2){let e=r();o("formConfig",e.insuranceFormConfig)("formName","Insurance Premium Detail")("columnCount",3),c(),P(1,e.premiumBillDetails?1:-1)}}var z=(()=>{class t{applyActionOn(e,i){this.premiumBillDetails=null,i===1?this.getPremiumBillDetails(e.form):i===1?this.getInsurancePremiumStatus(e.form):this.openDialog()}constructor(e,i,a){this.apiService=e,this.dialog=i,this.messageNotificationService=a,this.userDetails=[{canumber:554984552,mode:"online",address1:"Flat No. 101, Sunrise Apartments",address2:"Sector 12, Noida",address3:"Uttar Pradesh, India",referenceid:2021052415,insuranceNumber:"LICI2122000037468013",billAmount:"1548.00",billnetamount:"1548.00",billdate:"25-05-2021 00:44:29",acceptPayment:!0,acceptPartPay:!1,cellNumber:"905514651",dueFrom:"11/05/2021",dueTo:"11/05/2021",validationId:"HGA8V00A110382264047",billId:"HGA8V00A110382264047B"},{canumber:554984553,mode:"offline",address1:"House No. 25, Green Park Colony",address2:"Sector 5, Gurgaon",address3:"Haryana, India",referenceid:2021052416,insuranceNumber:"LICI2122000037468014",billAmount:"1750.00",billnetamount:"1750.00",billdate:"26-05-2021 01:15:00",acceptPayment:!0,acceptPartPay:!0,cellNumber:"905514652",dueFrom:"12/05/2021",dueTo:"12/05/2021",validationId:"HGA8V00A110382264048",billId:"HGA8V00A110382264048B"},{canumber:554984554,mode:"online",address1:"Building No. 8, Prestige Residency",address2:"MG Road, Bangalore",address3:"Karnataka, India",referenceid:2021052417,insuranceNumber:"LICI2122000037468015",billAmount:"2000.00",billnetamount:"2000.00",billdate:"27-05-2021 02:20:15",acceptPayment:!0,acceptPartPay:!1,cellNumber:"905514653",dueFrom:"13/05/2021",dueTo:"13/05/2021",validationId:"HGA8V00A110382264049",billId:"HGA8V00A110382264049B"},{canumber:554984555,mode:"offline",address1:"Plot No. 45, Dream Villas",address2:"Kothrud, Pune",address3:"Maharashtra, India",referenceid:2021052418,insuranceNumber:"LICI2122000037468016",billAmount:"2500.00",billnetamount:"2500.00",billdate:"28-05-2021 03:30:45",acceptPayment:!1,acceptPartPay:!1,cellNumber:"905514654",dueFrom:"14/05/2021",dueTo:"14/05/2021",validationId:"HGA8V00A110382264050",billId:"HGA8V00A110382264050B"},{canumber:554984556,mode:"online",address1:"House No. 12, Royal Enclave",address2:"Anna Nagar, Chennai",address3:"Tamil Nadu, India",referenceid:2021052419,insuranceNumber:"LICI2122000037468017",billAmount:"1800.00",billnetamount:"1800.00",billdate:"29-05-2021 04:10:30",acceptPayment:!0,acceptPartPay:!0,cellNumber:"905514655",dueFrom:"15/05/2021",dueTo:"15/05/2021",validationId:"HGA8V00A110382264051",billId:"HGA8V00A110382264051B"},{canumber:554984557,mode:"offline",address1:"Flat No. 88, Palm Meadows",address2:"Banjara Hills, Hyderabad",address3:"Telangana, India",referenceid:2021052420,insuranceNumber:"LICI2122000037468018",billAmount:"2200.00",billnetamount:"2200.00",billdate:"30-05-2021 05:45:10",acceptPayment:!0,acceptPartPay:!1,cellNumber:"905514656",dueFrom:"16/05/2021",dueTo:"16/05/2021",validationId:"HGA8V00A110382264052",billId:"HGA8V00A110382264052B"},{canumber:554984558,mode:"online",address1:"Villa No. 5, Ocean View",address2:"Calangute, Goa",address3:"Goa, India",referenceid:2021052421,insuranceNumber:"LICI2122000037468019",billAmount:"3000.00",billnetamount:"3000.00",billdate:"31-05-2021 06:30:00",acceptPayment:!0,acceptPartPay:!1,cellNumber:"905514657",dueFrom:"17/05/2021",dueTo:"17/05/2021",validationId:"HGA8V00A110382264053",billId:"HGA8V00A110382264053B"}],this.tableConfig={tableHeading:"Transaction Details",columns:[{name:"CA Number",field:"canumber",width:"150"},{name:"Mode",field:"mode",width:"100"},{name:"Address Line 1",field:"address1",width:"200"},{name:"Address Line 2",field:"address2",width:"200"},{name:"Address Line 3",field:"address3",width:"200"},{name:"Reference ID",field:"referenceid",width:"150"},{name:"Insurance Number",field:"insuranceNumber",width:"200"},{name:"Bill Amount",field:"billAmount",width:"150"},{name:"Net Bill Amount",field:"billnetamount",width:"150"},{name:"Bill Date",field:"billdate",width:"200"},{name:"Accept Payment",field:"acceptPayment",width:"150"},{name:"Accept Part Payment",field:"acceptPartPay",width:"150"},{name:"Cell Number",field:"cellNumber",width:"150"},{name:"Due From",field:"dueFrom",width:"150"},{name:"Due To",field:"dueTo",width:"150"},{name:"Validation ID",field:"validationId",width:"200"},{name:"Bill ID",field:"billId",width:"200"}],headerOption:[{value:"add",name:"Get Insurance Status",buttoncss:""}],config:{sorting:{column:"canumber",order:"asc"},pageSizeOptions:[5,10,20],pageSize:10},isRowClickable:!0,isSearchable:!0},this.searchFormConfig={fields:[{type:"text",id:"insuranceNumber",label:"Insurance Number",placeholder:"Enter Insurance Number",class:"form-control",validators:[{isRequired:!1}]},{type:"text",id:"name",label:"Holder Name",placeholder:"Enter Holder Name",class:"form-control",validators:[{isRequired:!1}]},{type:"dropdown",id:"mode",label:"Payment Mode",options:[{label:"Online",value:"Online"},{label:"Offline",value:"Offline"}],class:"form-control",validators:[{isRequired:!1}]}],actions:[{name:"Save",css:"btn-primary"},{name:"Cancel",css:"btn-secondary"}]},this.insuranceFormConfig={fields:[{type:"text",id:"canumber",label:"Insurance Number",placeholder:"Enter Insurance Number",class:"form-control",validators:[{isRequired:!0}]},{type:"email",id:"ad1",label:"Email",placeholder:"Enter Email",class:"form-control",validators:[{isRequired:!0}]},{type:"date",id:"ad2",label:"DOB",placeholder:"Enter DOB",class:"form-control",validators:[{isRequired:!0}]},{type:"dropdown",id:"mode",label:"Payment Mode",options:[{label:"Online",value:"Online"},{label:"Offline",value:"Offline"}],class:"form-control",validators:[{isRequired:!0}]}],actions:[{name:"Save",css:"btn-primary"},{name:"Cancel",css:"btn-secondary"}]},this.formConfig={fields:[{key:"userName",name:"User Name"},{key:"cellNumber",name:"Cell Number"},{key:"billNumber",name:"Bill Number"},{key:"billAmount",name:"Bill Amount"},{key:"billnetamount",name:"Bill Net Amount"},{key:"billdate",name:"Bill Date"},{key:"dueFrom",name:"Due From"},{key:"dueTo",name:"Due To"},{key:"acceptPayment",name:"Accept Payment"},{key:"acceptPartPay",name:"Accept Partial Payment"}]},this.insurancePremiumStatusFormConfig={fields:[{type:"text",id:"referenceid",label:"Reference ID",placeholder:"Enter Reference ID",class:"form-control",validators:[{isRequired:!0}]}],isFromPopUP:!0,actions:[{name:"Submit",css:"btn-primary"},{name:"Cancel",css:"btn-secondary"}]},this.selectedTab="Insurance Payment Details",this.premiumBillDetails=null}openDialog(){this.dialog.open(V,{data:{form:this.insurancePremiumStatusFormConfig,columns:4,formName:"Insurance Premium Status"}}).afterClosed().subscribe(i=>{this.getInsurancePremiumStatus(i)})}getPremiumBillDetails(e){this.apiService.getPremiumBillDetails(e).subscribe({next:i=>{i.status?(e.referenceid=this.generateUniqueReferenceID().toString(),this.premiumBillDetails=b(b({},i),e),this.messageNotificationService.success(i.message,"success")):this.messageNotificationService.info(i.message,"info")},error:i=>{this.messageNotificationService.error("Unable to Find Premium Details","error"),console.error("Error fetching data:",i)}})}payInsurancePremiumBill(){this.apiService.payInsurancePremiumBill(this.premiumBillDetails).subscribe({next:e=>{e.status?this.messageNotificationService.success(e.message,"success"):this.messageNotificationService.info(e.message,"info")},error:e=>{this.messageNotificationService.error("Unable to Pay Insurance Premium","error"),console.error("Error fetching data:",e)}})}generateUniqueReferenceID(){let e=Math.floor(Math.random()*1e6);return new Date().getTime()+e}getInsurancePremiumStatus(e){this.apiService.getInsurancePremiumStatus(e).subscribe({next:i=>{i.status?this.messageNotificationService.success(i.message,"success"):this.messageNotificationService.info(i.message,"info")},error:i=>{this.messageNotificationService.error("Unable to Find Premium Status","error"),console.error("Error fetching data:",i)}})}static{this.\u0275fac=function(i){return new(i||t)(f(A),f(S),f(D))}}static{this.\u0275cmp=C({type:t,selectors:[["app-insurance-premium-payment"]],standalone:!0,features:[_],decls:12,vars:7,consts:[[1,"grid","grid-cols-12","gap-6"],[1,"xl:col-span-12","col-span-12"],[1,"box","box-body","!p-0"],[1,"md:flex","px-4","py-6","items-center","justify-between"],[1,"mt-2","md:mt-0"],[1,"-mb-0.5","sm:flex","sm:space-x-6","rtl:space-x-reverse","flex-wrap"],[1,"w-full","flex","sm:w-auto","hs-tab-active:font-semibold","hs-tab-active:text-primary","hs-tab-active:bg-primary/10","rounded-md","py-2","px-3","text-sm","cursor-pointer",3,"click","ngClass"],[3,"action","formConfig","formName","columnCount"],[3,"action","tableDataSet","tableConfig","tableWidth","formName"],[3,"formValue","formName","displayFields"],[3,"action","formValue","formName","displayFields"]],template:function(i,a){i&1&&(s(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"a",6),m("click",function(){return a.selectedTab="Insurance Payment Details"}),I(7," Insurance Payment Details "),n(),s(8,"a",6),m("click",function(){return a.selectedTab="Pay Insurance Premium",a.premiumBillDetails=null}),I(9," Pay Insurance Premium "),n()()()()(),y(10,F,2,7)(11,G,2,4),n()()),i&2&&(c(6),o("ngClass",h(3,T,a.selectedTab==="Insurance Payment Details")),c(2),o("ngClass",h(5,T,a.selectedTab==="Pay Insurance Premium")),c(2),P(10,a.selectedTab==="Insurance Payment Details"?10:11))},dependencies:[w,x,N,v,B]})}}return t})();export{z as InsurancePremiumPaymentComponent};
