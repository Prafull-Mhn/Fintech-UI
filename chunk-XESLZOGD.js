import{a as j}from"./chunk-NBVE2JBG.js";import{a as v,b as I}from"./chunk-7OWVXPDB.js";import{i as G,j as V}from"./chunk-QGXMSAUK.js";import"./chunk-NZ5PK7L2.js";import{Ab as f,Bb as a,Ca as S,Cb as r,Da as D,Db as h,Ea as y,Hb as w,Kb as g,Mb as p,Nc as B,Vb as s,Vc as k,Wb as N,Xa as n,Xb as R,Ya as m,Yb as b,ac as H,ad as M,bc as E,dc as C,nb as _,pb as c,ta as x,wb as T,yc as F,zb as u}from"./chunk-TLLNOJ6K.js";var O=(i,l)=>l.name,A=(i,l)=>l.label,P=i=>({"ti-btn-primary":i});function q(i,l){if(i&1&&h(0,"app-dynamic-form",7)(1,"app-data-grid",8),i&2){let e=p();c("formConfig",e.formConfig)("formName","Search")("columnCount",3),n(),c("tableDataSet",e.rechargeDetails)("tableConfig",e.tableConfig)("tableWidth",100)("formName","DTH Recharges Details")}}function L(i,l){if(i&1&&(a(0,"li",21),y(),a(1,"svg",26),h(2,"path",27),r(),s(3),r()),i&2){let e=l.$implicit;n(3),b(" ",e.label,": ",e.value," ")}}function $(i,l){if(i&1&&(a(0,"li",21),y(),a(1,"svg",26),h(2,"path",27),r(),s(3),r()),i&2){let e=l.$implicit;n(3),b(" ",e.label,": ",e.value," ")}}function U(i,l){if(i&1&&(a(0,"div",14)(1,"div",15)(2,"div",16)(3,"h2",17),s(4),r()(),a(5,"div",18)(6,"div")(7,"h3",19),s(8,"Features"),r(),a(9,"ul",20),u(10,L,4,2,"li",21,A),r()(),a(12,"div")(13,"h3",19),s(14,"Channels"),r(),a(15,"ul",22),u(16,$,4,2,"li",21,A),r()()(),a(18,"div",23)(19,"p",24),s(20),r(),a(21,"button",25),s(22," Buy Pack "),r()()()()),i&2){let e=l.$implicit,t=p(2);n(4),R(" ",e.name," "),n(6),f(t.getFeatures(e.features)),n(6),f(t.getChannels(e.channels)),n(4),b("\u20B9",e.price," for ",e.duration,"")}}function z(i,l){if(i&1){let e=w();a(0,"app-dynamic-form",9),g("action",function(o){S(e);let d=p();return D(d.getRechargeDetails(o.form))}),r(),a(1,"div",10)(2,"div",1)(3,"div",11)(4,"div",3)(5,"div",12)(6,"div",13),s(7),r()()()()(),u(8,U,23,3,"div",14,O),r()}if(i&2){let e=p();c("formConfig",e.dthFormConfig)("formName","DTH Recharge")("columnCount",3),n(7),N("Plans"),n(),f(e.rechargePlans)}}var re=(()=>{class i{constructor(e,t,o,d){this.apiService=e,this.utilityService=t,this.cdr=o,this.messageNotificationService=d,this.rechargeDetails=[{customerNumber:"9876543210",rechargeDate:"2024-07-27",operator:"Airtel",price:199,description:"1 GB data per day, unlimited calls",validity:28},{customerNumber:"8765432109",rechargeDate:"2024-07-26",operator:"Jio",price:399,description:"2 GB data per day, unlimited calls, 100 SMS",validity:56},{customerNumber:"7654321098",rechargeDate:"2024-07-25",operator:"Vodafone",price:599,description:"3 GB data per day, unlimited calls, 100 SMS, Disney+ Hotstar subscription",validity:84},{customerNumber:"6543210987",rechargeDate:"2024-07-24",operator:"BSNL",price:149,description:"Unlimited calls, 1 GB data, 100 SMS",validity:28},{customerNumber:"5432109876",rechargeDate:"2024-07-23",operator:"Airtel",price:799,description:"2 GB data per day, unlimited calls, 100 SMS, Amazon Prime subscription",validity:84},{customerNumber:"4321098765",rechargeDate:"2024-07-22",operator:"Jio",price:249,description:"1.5 GB data per day, unlimited calls, 100 SMS",validity:56},{customerNumber:"3210987654",rechargeDate:"2024-07-21",operator:"Vodafone",price:449,description:"2 GB data per day, unlimited calls, 100 SMS",validity:84},{customerNumber:"2109876543",rechargeDate:"2024-07-20",operator:"BSNL",price:199,description:"1 GB data per day, unlimited calls",validity:28},{customerNumber:"1098765432",rechargeDate:"2024-07-19",operator:"Airtel",price:349,description:"1.5 GB data per day, unlimited calls, 100 SMS",validity:56},{customerNumber:"0987654321",rechargeDate:"2024-07-18",operator:"Jio",price:699,description:"3 GB data per day, unlimited calls, 100 SMS, Netflix subscription",validity:84},{customerNumber:"9988776655",rechargeDate:"2024-07-17",operator:"Vodafone",price:179,description:"Unlimited calls, 1 GB data, 100 SMS",validity:28},{customerNumber:"8899776655",rechargeDate:"2024-07-16",operator:"BSNL",price:299,description:"1.5 GB data per day, unlimited calls, 100 SMS",validity:56}],this.tableConfig={tableHeading:"Service Details",columns:[{name:"Customer Number",field:"customerNumber",width:"120"},{name:"Operator",field:"operator",width:"120"},{name:"Recharge Date",field:"rechargeDate",type:"dateTime",width:"120"},{name:"Validity",field:"validity",width:"120"},{name:"Description",field:"description",width:"350"},{name:"Price",field:"price",width:"120"}],config:{sorting:{column:"price",order:"desc"},pageSizeOptions:[5,10],pageSize:7},isRowClickable:!1,isSearchable:!0},this.rechargePlans=[{name:"Digital TV Hindi Entertainment Pack",features:{totalChannels:160,popularChannels:20,hdChannels:8},channels:{news:12,entertainment:30,movies:15,music:10,kids:18},price:250,duration:"1 Month",provider:"Digital TV"},{name:"Hindi Entertainment Pack",features:{totalChannels:290,popularChannels:30,hdChannels:18},channels:{news:22,entertainment:40,movies:25,music:17,kids:21},price:950,duration:"1 Month",provider:"Digital TV"}],this.formConfig={fields:[{type:"text",label:"Customer Number",placeholder:"Enter Customer Number",class:"form-control",id:"custNumber",validators:[{isRequired:!1}]},{type:"dropdown",id:"operator",label:"Operator List",options:[],class:"form-control",validators:[{isRequired:!1}]},{type:"text",id:"rechargeAmount",label:"Recharge Amount",placeholder:"Enter Recharge Amount",class:"form-control",validators:[{isRequired:!1}]}]},this.dthFormConfig={fields:[{type:"text",label:"Customer Number",placeholder:"Enter Customer Number",class:"form-control",id:"number",validators:[{isRequired:!0,message:"Customer Number is required"}]},{type:"dropdownWithID",id:"operator",label:"Operator List",options:[],class:"form-control",validators:[{isRequired:!0,message:"Operator is required"}]}]},this.selectedTab="DTH Recharge"}ngOnInit(){this.utilityService.operatorList$.subscribe(()=>{let e=this.utilityService.filterByCategory("DTH");this.formConfig.fields[1].options=e,this.dthFormConfig.fields[1].options=e})}getRechargeDetails(e){e.type="DTH",this.apiService.checkCircleDetails(e).subscribe({next:t=>{t.message==="Fetch Successful"&&(e.circle=t.info.circle,e.op=t.info.operator,this.getDTHInfo(e))},error:t=>{this.messageNotificationService.error("Unable to Find DTH Info","error"),console.error("Error fetching data:",t)}})}getDTHInfo(e){this.apiService.getDTHInfo(e).subscribe({next:t=>{t.message==="Fetch Successful"&&(this.rechargePlans=t.info,this.cdr.detectChanges())},error:t=>{this.messageNotificationService.error("Unable to Find DTH Info","error"),console.error("Error fetching data:",t)}})}getFeatures(e){return Object.entries(e).map(([t,o])=>({label:this.formatKey(t),value:o}))}getChannels(e){return Object.entries(e).map(([t,o])=>({label:this.formatKey(t),value:o}))}formatKey(e){let t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}static{this.\u0275fac=function(t){return new(t||i)(m(v),m(I),m(F),m(j))}}static{this.\u0275cmp=x({type:i,selectors:[["app-dth-recharge"]],standalone:!0,features:[H([v]),E],decls:12,vars:7,consts:[[1,"grid","grid-cols-12","gap-6"],[1,"xl:col-span-12","col-span-12"],[1,"box","box-body","!p-0"],[1,"md:flex","px-4","py-6","items-center","justify-between"],[1,"mt-2","md:mt-0"],[1,"-mb-0.5","sm:flex","sm:space-x-6","rtl:space-x-reverse","flex-wrap"],[1,"w-full","flex","sm:w-auto","hs-tab-active:font-semibold","hs-tab-active:text-primary","hs-tab-active:bg-primary/10","rounded-md","py-2","px-3","text-sm","cursor-pointer",3,"click","ngClass"],[3,"formConfig","formName","columnCount"],[3,"tableDataSet","tableConfig","tableWidth","formName"],[3,"action","formConfig","formName","columnCount"],[1,"box"],[1,"box-body","!p-0"],[1,"box-header","justify-between"],[1,"box-title"],[1,"w-full","max-w-screen-lg","mx-auto","p-2","antialiased"],[1,"bg-white","shadow-md","rounded-md","border","border-gray-200","hover:bg-red-100","hover:shadow-xl","hover:scale-[1.03]","transition-all","duration-500","ease-in-out"],[1,"flex","justify-between","items-center","p-3","border-b","border-gray-300"],[1,"text-base","font-semibold","text-gray-800","truncate"],[1,"p-3","grid","grid-cols-2","gap-2"],[1,"text-sm","font-medium","text-gray-700","mb-1"],[1,"space-y-1"],[1,"flex","items-center","text-sm","text-gray-600"],[1,"grid","grid-cols-2","gap-1.5"],[1,"flex","justify-between","items-center","p-3","border-t","border-gray-300"],[1,"text-sm","font-semibold","text-gray-800"],[1,"ti-btn","ti-btn-primary","hover:bg-red-700","hover:scale-105","hover:shadow-lg","transition-all","duration-300","ease-in-out"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-3.5","w-3.5","text-green-500","mr-1.5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"]],template:function(t,o){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"a",6),g("click",function(){return o.selectedTab="Recharge Details"}),s(7," Recharge Details "),r(),a(8,"a",6),g("click",function(){return o.selectedTab="DTH Recharge"}),s(9," DTH Recharge "),r()()()()(),_(10,q,2,7)(11,z,10,4),r()()),t&2&&(n(6),c("ngClass",C(3,P,o.selectedTab==="Recharge Details")),n(2),c("ngClass",C(5,P,o.selectedTab==="DTH Recharge")),n(2),T(10,o.selectedTab==="Recharge Details"?10:11))},dependencies:[G,V,k,B,M]})}}return i})();export{re as DTHRechargeComponent};
