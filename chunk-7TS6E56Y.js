import{a as u}from"./chunk-SK7GCJXU.js";import{H as I}from"./chunk-R73YFGLQ.js";import"./chunk-CARY4E7O.js";import{a as A}from"./chunk-4ZJNXFD6.js";import{$b as k,Ab as o,Bb as r,Ca as f,Da as C,Gb as _,Jb as c,Lb as m,Mc as x,Ub as p,Uc as y,Xa as d,Ya as l,ac as S,cc as g,dd as B,nb as b,pb as s,ta as h,vb as v}from"./chunk-PA4BRCDR.js";var w=n=>({"ti-btn-primary":n});function N(n,T){if(n&1){let t=_();o(0,"app-dynamic-form",10),c("action",function(i){f(t);let a=m();return C(a.openAccount(i.form))}),r()}if(n&2){let t=m();s("formConfig",t.formConfig)("formName","Search")("columnCount",3)}}function L(n,T){if(n&1){let t=_();o(0,"app-dynamic-form",10),c("action",function(i){f(t);let a=m();return C(a.openAccount(i.form))}),r()}if(n&2){let t=m();s("formConfig",t.formConfig)("formName","Search")("columnCount",3)}}var G=(()=>{class n{constructor(t,e,i){this.apiService=t,this.messageNotificationService=e,this.sanitizer=i,this.selectedTab="Indusind Bank",this.merchantCode="NaveenAlgoTech",this.formConfig={fields:[{type:"dropdownWithID",id:"type",label:"Account Type",options:[{id:"1",name:"Saving Account"},{id:"2",name:"Current Account"}],class:"form-control",validators:[{isRequired:!0,message:"Operator is required"}]}]},this.safeUrl=this.sanitizer.bypassSecurityTrustResourceUrl("")}openAccount(t){t.merchantCode=this.merchantCode,this.selectedTab==="Indusind Bank"?this.openIndusIndAccount(t):this.openRBLAccount(t)}openIndusIndAccount(t){this.apiService.openIndusIndAccount(t).subscribe({next:e=>{e.status?(this.messageNotificationService.success(e.message,"success"),window.open(e.data.link,"_blank")):this.messageNotificationService.error(e.message,"error")},error:e=>{this.messageNotificationService.error("Unable to open Indusind Bank Account","error"),console.error("Error fetching data:",e)}})}openRBLAccount(t){this.apiService.openRBLAccount(t).subscribe({next:e=>{e.status?(this.messageNotificationService.success(e.message,"success"),window.open(e.data.link,"_blank")):this.messageNotificationService.error(e.message,"error")},error:e=>{this.messageNotificationService.error("Unable to open RBL Bank Account","error"),console.error("Error fetching data:",e)}})}generateUniqueReferenceID(){let t=Math.floor(Math.random()*1e6);return(new Date().getTime()+t).toString()}creditCardLeadGeneration(){let t={merchantCode:this.merchantCode,refId:this.generateUniqueReferenceID()};this.apiService.creditCardLeadGeneration(t).subscribe({next:e=>{e.status?(this.messageNotificationService.success(e.message,"success"),window.open(e.data.link,"_blank")):this.messageNotificationService.error(e.message,"error")},error:e=>{this.messageNotificationService.error("Unable to Generate Creadit Card Lead","error"),console.error("Error fetching data:",e)}})}static{this.\u0275fac=function(e){return new(e||n)(l(u),l(A),l(B))}}static{this.\u0275cmp=h({type:n,selectors:[["app-open-bank-account"]],standalone:!0,features:[k([u]),S],decls:15,vars:7,consts:[[1,"grid","grid-cols-12","gap-6"],[1,"xl:col-span-12","col-span-12"],[1,"box","box-body","!p-0"],[1,"md:flex","px-4","py-6","items-center","justify-between"],[1,"mt-2","md:mt-0"],[1,"-mb-0.5","sm:flex","sm:space-x-6","rtl:space-x-reverse","flex-wrap"],[1,"w-full","flex","sm:w-auto","hs-tab-active:font-semibold","hs-tab-active:text-primary","hs-tab-active:bg-primary/10","rounded-md","py-2","px-3","text-sm","cursor-pointer",3,"click","ngClass"],["type","button",1,"ti-btn","ti-btn-outline-primary","ti-btn-loader","m-2","ti-btn-border-top",3,"click"],[1,"me-2"],[3,"formConfig","formName","columnCount"],[3,"action","formConfig","formName","columnCount"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"a",6),c("click",function(){return i.selectedTab="Indusind Bank"}),p(7," Indusind Bank "),r(),o(8,"a",6),c("click",function(){return i.selectedTab="RBL Bank"}),p(9," RBL Bank "),r()()(),o(10,"button",7),c("click",function(){return i.creditCardLeadGeneration()}),o(11,"span",8),p(12,"Credit Card Lead Generation"),r()()()(),b(13,N,1,3,"app-dynamic-form",9)(14,L,1,3),r()()),e&2&&(d(6),s("ngClass",g(3,w,i.selectedTab==="Indusind Bank")),d(2),s("ngClass",g(5,w,i.selectedTab==="RBL Bank")),d(5),v(13,i.selectedTab==="Indusind Bank"?13:14))},dependencies:[I,y,x]})}}return n})();export{G as OpenBankAccountComponent};
