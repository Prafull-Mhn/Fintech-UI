import{a as C}from"./chunk-H5NTTPIV.js";import{H as N}from"./chunk-DUZFJ4J4.js";import"./chunk-CARY4E7O.js";import{a as I}from"./chunk-DQTRCNBK.js";import{Ca as v,Cb as o,Da as h,Db as r,Eb as f,Ib as x,Lb as d,Nb as s,Oc as A,Ua as b,Wb as _,Wc as T,Ya as a,Za as l,bc as y,cc as B,ec as k,fd as w,ob as p,qb as c,ta as S,xb as u}from"./chunk-AEEAPHH6.js";var E=n=>({"ti-btn-primary":n});function R(n,g){if(n&1&&(o(0,"div",12),f(1,"iframe",13),r()),n&2){let t=s(2);a(),c("src",t.safeUrl,b)}}function U(n,g){if(n&1){let t=x();o(0,"app-dynamic-form",11),d("action",function(i){v(t);let m=s();return h(m.openAccount(i.form))}),r(),p(1,R,2,1,"div",12)}if(n&2){let t=s();c("formConfig",t.formConfig)("formName","Search")("columnCount",3),a(),u(1,t.safeUrl?1:-1)}}function L(n,g){if(n&1&&(o(0,"div",12),f(1,"iframe",13),r()),n&2){let t=s(2);a(),c("src",t.safeUrl,b)}}function O(n,g){if(n&1){let t=x();o(0,"app-dynamic-form",11),d("action",function(i){v(t);let m=s();return h(m.openAccount(i.form))}),r(),o(1,"div",12),p(2,L,2,1,"div",12),r()}if(n&2){let t=s();c("formConfig",t.formConfig)("formName","Search")("columnCount",3),a(2),u(2,t.safeUrl?2:-1)}}var P=(()=>{class n{constructor(t,e,i){this.apiService=t,this.messageNotificationService=e,this.sanitizer=i,this.selectedTab="Indusind Bank",this.merchantCode="NaveenAlgoTech",this.formConfig={fields:[{type:"dropdownWithID",id:"type",label:"Account Type",options:[{id:"1",name:"Saving Account"},{id:"2",name:"Current Account"}],class:"form-control",validators:[{isRequired:!0,message:"Operator is required"}]}]},this.safeUrl=this.sanitizer.bypassSecurityTrustResourceUrl("")}openAccount(t){t.merchantCode=this.merchantCode,this.selectedTab==="Indusind Bank"?this.openIndusIndAccount(t):this.openRBLAccount(t)}openIndusIndAccount(t){this.apiService.openIndusIndAccount(t).subscribe({next:e=>{e.status?(this.messageNotificationService.success(e.message,"success"),window.open(e.data.link,"_blank")):this.messageNotificationService.error(e.message,"error")},error:e=>{this.messageNotificationService.error("Unable to open Indusind Bank Account","error"),console.error("Error fetching data:",e)}})}openRBLAccount(t){this.apiService.openRBLAccount(t).subscribe({next:e=>{e.status?(this.messageNotificationService.success(e.message,"success"),window.open(e.data.link,"_blank")):this.messageNotificationService.error(e.message,"error")},error:e=>{this.messageNotificationService.error("Unable to open RBL Bank Account","error"),console.error("Error fetching data:",e)}})}generateUniqueReferenceID(){let t=Math.floor(Math.random()*1e6);return(new Date().getTime()+t).toString()}creditCardLeadGeneration(){let t={merchantCode:this.merchantCode,refId:this.generateUniqueReferenceID()};this.apiService.creditCardLeadGeneration(t).subscribe({next:e=>{e.status?(this.messageNotificationService.success(e.message,"success"),window.open(e.data.link,"_blank")):this.messageNotificationService.error(e.message,"error")},error:e=>{this.messageNotificationService.error("Unable to Generate Creadit Card Lead","error"),console.error("Error fetching data:",e)}})}static{this.\u0275fac=function(e){return new(e||n)(l(C),l(I),l(w))}}static{this.\u0275cmp=S({type:n,selectors:[["app-open-bank-account"]],standalone:!0,features:[y([C]),B],decls:17,vars:7,consts:[[1,"grid","grid-cols-12","gap-6"],[1,"xl:col-span-12","col-span-12"],[1,"box","box-body","!p-0"],[1,"md:flex","px-4","py-6","items-center","justify-between"],[1,"mt-2","md:mt-0"],[1,"-mb-0.5","sm:flex","sm:space-x-6","rtl:space-x-reverse","flex-wrap"],[1,"w-full","flex","sm:w-auto","hs-tab-active:font-semibold","hs-tab-active:text-primary","hs-tab-active:bg-primary/10","rounded-md","py-2","px-3","text-sm","cursor-pointer",3,"click","ngClass"],["type","button",1,"ti-btn","ti-btn-outline-primary","ti-btn-loader","m-2","ti-btn-border-top",3,"click"],[1,"me-2"],[1,"loading"],[1,"ri-loader-2-fill","text-[1rem]","animate-spin"],[3,"action","formConfig","formName","columnCount"],[1,"flex","flex-col","space-y-6","p-6","bg-gray-100"],["width","100%","height","500px",3,"src"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"a",6),d("click",function(){return i.selectedTab="Indusind Bank"}),_(7," Indusind Bank "),r(),o(8,"a",6),d("click",function(){return i.selectedTab="RBL Bank"}),_(9," RBL Bank "),r()()(),o(10,"button",7),d("click",function(){return i.creditCardLeadGeneration()}),o(11,"span",8),_(12,"Credit Card Lead Generation"),r(),o(13,"span",9),f(14,"i",10),r()()()(),p(15,U,2,4)(16,O,3,4),r()()),e&2&&(a(6),c("ngClass",k(3,E,i.selectedTab==="Indusind Bank")),a(2),c("ngClass",k(5,E,i.selectedTab==="RBL Bank")),a(7),u(15,i.selectedTab==="Indusind Bank"?15:16))},dependencies:[N,T,A]})}}return n})();export{P as OpenBankAccountComponent};
